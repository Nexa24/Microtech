<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Student Management - MicroTech Center</title>
    <link rel="stylesheet" href="css/student.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.18.5/xlsx.full.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf-autotable/3.5.31/jspdf.plugin.autotable.min.js"></script>
</head>
<body>
    <div class="dashboard-container">
        <!-- Left Sidebar -->
        <div class="left-sidebar">
        <div class="sidebar-header">
                <div class="sidebar-logo">
                    <div class="logo-icon">
                        <i class="fas fa-building"></i>
        </div>
                    <div class="logo-text">MicroTech Center</div>
                </div>
                <div class="sidebar-subtitle">Student Management System</div>
            </div>
            
            <div class="sidebar-search">
                <div class="search-container">
                    <i class="fas fa-search search-icon"></i>
                    <input type="text" placeholder="Search students...">
            </div>
            </div>
            
                        <nav class="nav-menu">
                <a href="admin-dashboard" class="nav-item">
                    <i class="fas fa-home nav-icon"></i>
                    <span class="nav-text">Dashboard</span>
                </a>
                <a href="revenue" class="nav-item">
                    <i class="fas fa-dollar-sign nav-icon"></i>
                    <span class="nav-text">Revenue Management</span>
                </a>
                <a href="student" class="nav-item active">
                    <i class="fas fa-users nav-icon"></i>
                    <span class="nav-text">Students</span>
                </a>
                <a href="staff" class="nav-item">
                    <i class="fas fa-user-tie nav-icon"></i>
                    <span class="nav-text">Staff</span>
                </a>
                <a href="counselors" class="nav-item">
                    <i class="fas fa-phone nav-icon"></i>
                    <span class="nav-text">Counselors</span>
                </a>
                <a href="courses" class="nav-item">
                    <i class="fas fa-book-open nav-icon"></i>
                    <span class="nav-text">Courses & Academics</span>
                </a>
                <a href="fees" class="nav-item">
                    <i class="fas fa-credit-card nav-icon"></i>
                    <span class="nav-text">Fee Management</span>
                </a>
                <a href="receipt.html" class="nav-item">
                    <i class="fas fa-receipt nav-icon"></i>
                    <span class="nav-text">Receipt Management</span>
                </a>
                <a href="communication" class="nav-item">
                    <i class="fas fa-comments nav-icon"></i>
                    <span class="nav-text">Communication</span>
                </a>
                <a href="advertisement" class="nav-item">
                    <i class="fas fa-bullhorn nav-icon"></i>
                    <span class="nav-text">Advertisement</span>
                </a>
                <a href="alumni" class="nav-item">
                    <i class="fas fa-graduation-cap nav-icon"></i>
                    <span class="nav-text">Alumni Portal</span>
                </a>
                <a href="scholarship" class="nav-item">
                    <i class="fas fa-shield-alt nav-icon"></i>
                    <span class="nav-text">Scholarship & Offers</span>
                </a>
                <a href="referral" class="nav-item">
                    <i class="fas fa-share-alt nav-icon"></i>
                    <span class="nav-text">Referral Program</span>
                </a>
                <a href="analytics" class="nav-item">
                    <i class="fas fa-chart-bar nav-icon"></i>
                    <span class="nav-text">Analytics & Reports</span>
                </a>
                <a href="notifications" class="nav-item">
                    <i class="fas fa-bell nav-icon"></i>
                    <span class="nav-text">Notifications</span>
                </a>
                <a href="settings" class="nav-item">
                    <i class="fas fa-cog nav-icon"></i>
                    <span class="nav-text">Settings</span>
                </a>
                <a href="cloud" class="nav-item">
                    <i class="fas fa-cloud nav-icon"></i>
                    <span class="nav-text">Cloud</span>
                </a>
                <a href="expenses" class="nav-item">
                    <i class="fas fa-wallet nav-icon"></i>
                    <span class="nav-text">Expenses</span>
                </a>
                <a href="finance" class="nav-item">
                    <i class="fas fa-chart-line nav-icon"></i>
                    <span class="nav-text">Finance</span>
                </a>
            </nav>
        </div>

        <!-- Main Content Area -->
        <div class="main-content">
            <!-- Top Header -->
            <div class="top-header">
                <div class="header-search">
                    <i class="fas fa-search search-icon"></i>
                    <input type="text" placeholder="Search students...">
                </div>
                
                <div class="header-right">
                    <div class="notifications" id="notifications-container">
                        <i class="fas fa-bell bell-icon" id="notification-bell"></i>
                        <span class="notification-badge" id="notification-badge">0</span>
                        
                        <!-- Notifications Dropdown -->
                        <div class="notifications-dropdown" id="notifications-dropdown">
                            <div class="notifications-header">
                                <h3>Notifications</h3>
                                <button class="mark-all-read" id="mark-all-read">Mark all as read</button>
                            </div>
                            <div class="notifications-list" id="notifications-list">
                                <!-- Notifications will be populated by JavaScript -->
                            </div>
                            <div class="notifications-footer">
                                <a href="notifications" class="view-all-notifications">View All Notifications</a>
                            </div>
                        </div>
                    </div>
                    
                    <div class="user-profile">
                        <div class="user-avatar">
                            <i class="fas fa-user"></i>
                        </div>
                        <div class="user-info">
                            <div class="user-name">Admin User</div>
                            <div class="user-role">Administrator</div>
                        </div>
                        <i class="fas fa-chevron-down user-dropdown"></i>
                    </div>
                </div>
            </div>

            <!-- Page Title -->
            <div class="page-title">Student Management</div>
            <div class="page-subtitle">Manage student information, profiles, and records</div>

            <!-- Student Management Analytics Section -->
<div class="sm-stats-row">
  <!-- Total Students -->
  <div class="sm-stat-card sm-stat-blue">
    <div class="sm-stat-icon"><i class="fas fa-users"></i></div>
    <div>
      <div class="sm-stat-label">Total Students</div>
      <div class="sm-stat-value" id="total-students">0</div>
    </div>
  </div>

  <!-- CAPT -->
  <div class="sm-stat-card sm-stat-green">
    <div class="sm-stat-icon"><i class="fas fa-laptop-code"></i></div>
    <div>
      <div class="sm-stat-label">CAPT</div>
      <div class="sm-stat-value" id="capt-students">0</div>
    </div>
  </div>

  <!-- LBS -->
  <div class="sm-stat-card sm-stat-orange">
    <div class="sm-stat-icon"><i class="fas fa-book"></i></div>
    <div>
      <div class="sm-stat-label">LBS</div>
      <div class="sm-stat-value" id="lbs-students">0</div>
    </div>
  </div>

  <!-- Gama Abacus -->
  <div class="sm-stat-card sm-stat-purple">
    <div class="sm-stat-icon"><i class="fas fa-calculator"></i></div>
    <div>
      <div class="sm-stat-label">Gama Abacus</div>
      <div class="sm-stat-value" id="gama-students">0</div>
    </div>
  </div>
</div>

<!-- Active / Inactive / Pending -->
<div class="sm-stats-row">
  <div class="sm-stat-card sm-stat-green">
    <div class="sm-stat-icon"><i class="fas fa-check-circle"></i></div>
    <div>
      <div class="sm-stat-label">Active Students</div>
      <div class="sm-stat-value" id="active-students">0</div>
    </div>
  </div>

  <div class="sm-stat-card sm-stat-orange">
    <div class="sm-stat-icon"><i class="fas fa-pause-circle"></i></div>
    <div>
      <div class="sm-stat-label">Inactive Students</div>
      <div class="sm-stat-value" id="inactive-students">0</div>
    </div>
  </div>

  <div class="sm-stat-card sm-stat-blue">
    <div class="sm-stat-icon"><i class="fas fa-user-plus"></i></div>
    <div>
      <div class="sm-stat-label">Pending Registrations</div>
      <div class="sm-stat-value" id="pending-students">0</div>
    </div>
  </div>
</div>

<!-- Student List & Management Section -->
<div class="sm-list-section" style="margin-top: 32px;">
    <div class="sm-controls-bar">
        <div class="sm-controls-left">
            <input type="text" id="student-search-input" class="sm-input" placeholder="Search by Name, Email, Phone...">
            <select id="division-filter" class="sm-input">
                <option value="">All Divisions</option>
                <option value="CAPT">CAPT</option>
                <option value="LBS">LBS</option>
                <option value="Gama Abacus">Gama Abacus</option>
            </select>
            <select id="fee-status-filter" class="sm-input">
                <option value="">All Fee Status</option>
                <option value="Paid">Paid</option>
                <option value="Pending">Pending</option>
            </select>
            <select id="status-filter" class="sm-input">
                <option value="">All Statuses</option>
                <option value="active">Active</option>
                <option value="inactive">Inactive</option>
            </select>
            <button class="sm-btn" id="filter-btn">Filter</button>
        </div>
        <div class="sm-controls-right">
            <button class="sm-btn sm-btn-outline" id="bulk-delete-btn" style="display: none; background: #EF4444; border-color: #EF4444;">
                <i class="fas fa-trash"></i> Delete Selected (<span id="selected-count">0</span>)
            </button>
            <button class="sm-btn sm-btn-outline" id="bulk-upload-btn"><i class="fas fa-upload"></i> Bulk Upload</button>
            <button class="sm-btn sm-btn-outline" id="export-pdf-btn"><i class="fas fa-file-pdf"></i> Export PDF</button>
            <button class="sm-btn sm-btn-outline" id="export-excel-btn"><i class="fas fa-file-excel"></i> Export Excel</button>
            <button class="sm-btn sm-blue" id="add-student-btn"><i class="fas fa-plus"></i> Add Student</button>
        </div>
    </div>

    <div class="table-container">
        <table class="table">
            <thead>
                <tr>
                    <th style="width: 50px;">
                        <input type="checkbox" id="select-all-students" class="select-checkbox">
                    </th>
                    <th>Photo</th>
                    <th>Student Name</th>
                    <th>Division</th>
                    <th>Course</th>
                    <th>Guardian Name</th>
                    <th>Email</th>
                    <th>Phone</th>
                    <th>Admission Date</th>
                    <th>Fee Status</th>
                    <th>Status</th>
                    <th>Actions</th>
                </tr>
            </thead>
            <tbody id="student-table-body">
                <!-- Rows will be populated by JS -->
            </tbody>
        </table>
    </div>

    <div class="pagination-container" style="display: flex; justify-content: flex-end; align-items: center; margin-top: 20px;">
        <span id="page-info" style="margin-right: 16px;"></span>
        <button class="sm-btn sm-btn-outline" id="prev-page-btn" disabled><i class="fas fa-chevron-left"></i></button>
        <button class="sm-btn sm-btn-outline" id="next-page-btn" disabled><i class="fas fa-chevron-right"></i></button>
    </div>
</div>

    <!-- Toast notification container -->
    <div id="toast-container" style="position:fixed;top:24px;right:24px;z-index:9999;"></div>
    <script type="module" src="js/toast.js"></script>
    <script type="module" src="js/utils.js"></script>
    <script type="module" src="js/student.js"></script>

<!-- Add Student Modal -->
<div id="add-student-modal" class="modal">
    <div class="modal-content">
        <div class="modal-header">
            <h2 class="modal-title">Student Registration Form</h2>
            <button class="modal-close" id="add-student-modal-close">&times;</button>
        </div>
        <div class="modal-body">
            <form id="add-student-form">
                <div class="form-section">
                    <h3>Division Information</h3>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="division-select" class="form-label">Division*</label>
                            <select id="division-select" class="form-control" required>
                                <option value="">Select Division</option>
                                <option value="CAPT">CAPT</option>
                                <option value="LBS">LBS</option>
                                <option value="Gama Abacus">Gama Abacus</option>
                            </select>
                        </div>
                    </div>
                    <div class="form-row" id="course-group" style="display: none;">
                        <div class="form-group">
                            <label for="course-select" class="form-label">Course*</label>
                            <select id="course-select" class="form-control">
                                <option value="">Select Course</option>
                            </select>
                        </div>
                    </div>
                </div>

                <div class="form-section">
                    <h3>Personal Information</h3>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="student-name" class="form-label">Student Name*</label>
                            <input type="text" id="student-name" class="form-control" required>
                        </div>
                        <div class="form-group">
                            <label for="dob" class="form-label">Date of Birth*</label>
                            <input type="date" id="dob" class="form-control" required>
                        </div>
                        <div class="form-group">
                            <label for="age" class="form-label">Age</label>
                            <input type="number" id="age" class="form-control" readonly>
                        </div>
                        <div class="form-group">
                            <label for="gender" class="form-label">Gender*</label>
                            <select id="gender" class="form-control" required>
                                <option value="">Select Gender</option>
                                <option value="male">Male</option>
                                <option value="female">Female</option>
                                <option value="other">Other</option>
                            </select>
                        </div>
                    </div>
                </div>

                <div class="form-section">
                    <h3>Contact & Guardian Information</h3>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="guardian-name" class="form-label">Guardian Name*</label>
                            <input type="text" id="guardian-name" class="form-control" required>
                        </div>
                        <div class="form-group">
                            <label for="guardian-occupation" class="form-label">Guardian Occupation</label>
                            <input type="text" id="guardian-occupation" class="form-control">
                        </div>
                        <div class="form-group">
                            <label for="email" class="form-label">Email*</label>
                            <input type="email" id="email" class="form-control" required>
                        </div>
                        <div class="form-group">
                            <label for="phone" class="form-label">Phone Number*</label>
                            <input type="tel" id="phone" class="form-control" required>
                        </div>
                    </div>
                    <div class="form-group form-group-full">
                        <label for="address" class="form-label">Address*</label>
                        <input type="text" id="address" class="form-control" placeholder="Street Address" required>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <input type="text" id="district" class="form-control" placeholder="District" required>
                        </div>
                        <div class="form-group">
                            <input type="text" id="state" class="form-control" placeholder="State" required>
                        </div>
                        <div class="form-group">
                            <input type="text" id="country" class="form-control" placeholder="Country" required>
                        </div>
                        <div class="form-group">
                            <input type="text" id="zip" class="form-control" placeholder="ZIP Code" required>
                        </div>
                    </div>
                </div>

                <div class="form-section">
                    <h3>Admission Details</h3>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="admission-date" class="form-label">Admission Date*</label>
                            <input type="date" id="admission-date" class="form-control" required>
                        </div>
                        <div class="form-group">
                            <label for="admission-fee" class="form-label">Admission Fee*</label>
                            <input type="number" id="admission-fee" class="form-control" required>
                        </div>
                        <div class="form-group" id="total-fees-group" style="display: none;">
                            <label for="total-fees" class="form-label">Total Fees*</label>
                            <input type="number" id="total-fees" class="form-control" placeholder="Enter total course fees">
                        </div>
                        <div class="form-group" id="payment-type-group" style="display: none;">
                            <label for="payment-type" class="form-label">Payment Type*</label>
                            <select id="payment-type" class="form-control">
                                <option value="">Select Payment Type</option>
                                <option value="One Time">One Time</option>
                                <option value="Installment">Installment</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="batch-time" class="form-label">Batch Time*</label>
                            <input type="time" id="batch-time" class="form-control" required>
                        </div>
                        <div class="form-group">
                            <label for="status" class="form-label">Student Status*</label>
                            <select id="status" class="form-control" required>
                                <option value="active">Active</option>
                                <option value="inactive">Inactive</option>
                            </select>
                        </div>
                        <div class="form-group" id="fee-status-group" style="display: none;">
                            <label for="fee-status" class="form-label">Fee Status*</label>
                            <select id="fee-status" class="form-control">
                                <option value="Pending">Pending</option>
                                <option value="Paid">Paid</option>
                            </select>
                        </div>
                    </div>
                </div>

                <div class="modal-footer">
                    <button type="reset" class="sm-btn sm-btn-outline">Reset</button>
                    <button type="submit" class="sm-btn sm-blue">Submit</button>
                </div>
            </form>
        </div>
    </div>
</div>

<!-- View Student Details Modal -->
<div id="view-student-modal" class="modal">
    <div class="modal-content">
        <div class="modal-header">
            <h2 class="modal-title">Student Details</h2>
            <button class="modal-close" id="view-student-modal-close">&times;</button>
        </div>
        <div class="modal-body">
            <div class="student-details">
                <div class="student-photo-section">
                    <img id="view-student-photo" src="" alt="Student Photo" class="view-student-photo">
                    <h3 id="view-student-name">Student Name</h3>
                    <p id="view-student-id" class="student-id">ID: </p>
                </div>
                
                <div class="details-grid">
                    <div class="detail-section">
                        <h4>Personal Information</h4>
                        <div class="detail-row">
                            <span class="detail-label">Date of Birth:</span>
                            <span id="view-student-dob" class="detail-value">-</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">Age:</span>
                            <span id="view-student-age" class="detail-value">-</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">Gender:</span>
                            <span id="view-student-gender" class="detail-value">-</span>
                        </div>
                    </div>

                    <div class="detail-section">
                        <h4>Academic Information</h4>
                        <div class="detail-row">
                            <span class="detail-label">Division:</span>
                            <span id="view-student-division" class="detail-value">-</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">Course:</span>
                            <span id="view-student-course" class="detail-value">-</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">Batch Time:</span>
                            <span id="view-student-batch-time" class="detail-value">-</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">Admission Date:</span>
                            <span id="view-student-admission-date" class="detail-value">-</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">Admission Fee:</span>
                            <span id="view-student-admission-fee" class="detail-value">-</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">Total Fees:</span>
                            <span id="view-student-total-fees" class="detail-value">-</span>
                        </div>
                    </div>

                    <div class="detail-section">
                        <h4>Fee Information</h4>
                        <div class="detail-row">
                            <span class="detail-label">Total Course Fees:</span>
                            <span id="view-student-course-fees" class="detail-value">-</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">Payment Type:</span>
                            <span id="view-student-payment-type" class="detail-value">-</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">Pending Admission Fee:</span>
                            <span id="view-student-pending-admission" class="detail-value" style="color: #F59E0B;">-</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">Outstanding Fees:</span>
                            <span id="view-student-outstanding-fees" class="detail-value" style="color: #EF4444;">-</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">Total Paid:</span>
                            <span id="view-student-total-paid" class="detail-value" style="color: #10B981;">-</span>
                        </div>
                    </div>

                    <div class="detail-section">
                        <h4>Guardian Information</h4>
                        <div class="detail-row">
                            <span class="detail-label">Guardian Name:</span>
                            <span id="view-student-guardian-name" class="detail-value">-</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">Guardian Occupation:</span>
                            <span id="view-student-guardian-occupation" class="detail-value">-</span>
                        </div>
                    </div>

                    <div class="detail-section">
                        <h4>Contact Information</h4>
                        <div class="detail-row">
                            <span class="detail-label">Email:</span>
                            <span id="view-student-email" class="detail-value">-</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">Phone:</span>
                            <span id="view-student-phone" class="detail-value">-</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">Address:</span>
                            <span id="view-student-address" class="detail-value">-</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">District:</span>
                            <span id="view-student-district" class="detail-value">-</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">State:</span>
                            <span id="view-student-state" class="detail-value">-</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">Country:</span>
                            <span id="view-student-country" class="detail-value">-</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">ZIP Code:</span>
                            <span id="view-student-zip" class="detail-value">-</span>
                        </div>
                    </div>

                    <div class="detail-section">
                        <h4>Status Information</h4>
                        <div class="detail-row">
                            <span class="detail-label">Student Status:</span>
                            <span id="view-student-status" class="detail-value badge">-</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">Fee Status:</span>
                            <span id="view-student-fee-status" class="detail-value badge">-</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="modal-footer">
            <button class="sm-btn sm-btn-outline" id="view-student-modal-close-btn">Close</button>
        </div>
    </div>
</div>

<!-- Edit Student Modal -->
<div id="edit-student-modal" class="modal">
    <div class="modal-content">
        <div class="modal-header">
            <h2 class="modal-title">Edit Student Information</h2>
            <button class="modal-close" id="edit-student-modal-close">&times;</button>
        </div>
        <div class="modal-body">
            <form id="edit-student-form">
                <input type="hidden" id="edit-student-id">
                
                <div class="form-section">
                    <h3>Division Information</h3>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="edit-division-select" class="form-label">Division*</label>
                            <select id="edit-division-select" name="division" class="form-control" required>
                                <option value="">Select Division</option>
                                <option value="CAPT">CAPT</option>
                                <option value="LBS">LBS</option>
                                <option value="Gama Abacus">Gama Abacus</option>
                            </select>
                        </div>
                    </div>
                    <div class="form-row" id="edit-course-group" style="display: none;">
                        <div class="form-group">
                            <label for="edit-course-select" class="form-label">Course*</label>
                            <select id="edit-course-select" name="course" class="form-control">
                                <option value="">Select Course</option>
                            </select>
                        </div>
                    </div>
                </div>

                <div class="form-section">
                    <h3>Personal Information</h3>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="edit-student-name" class="form-label">Student Name*</label>
                            <input type="text" id="edit-student-name" name="name" class="form-control" required>
                        </div>
                        <div class="form-group">
                            <label for="edit-dob" class="form-label">Date of Birth*</label>
                            <input type="date" id="edit-dob" name="dob" class="form-control" required>
                        </div>
                        <div class="form-group">
                            <label for="edit-age" class="form-label">Age</label>
                            <input type="number" id="edit-age" name="age" class="form-control" readonly>
                        </div>
                        <div class="form-group">
                            <label for="edit-gender" class="form-label">Gender*</label>
                            <select id="edit-gender" name="gender" class="form-control" required>
                                <option value="">Select Gender</option>
                                <option value="male">Male</option>
                                <option value="female">Female</option>
                                <option value="other">Other</option>
                            </select>
                        </div>
                    </div>
                </div>

                <div class="form-section">
                    <h3>Contact & Guardian Information</h3>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="edit-guardian-name" class="form-label">Guardian Name*</label>
                            <input type="text" id="edit-guardian-name" name="guardianName" class="form-control" required>
                        </div>
                        <div class="form-group">
                            <label for="edit-guardian-occupation" class="form-label">Guardian Occupation</label>
                            <input type="text" id="edit-guardian-occupation" name="guardianOccupation" class="form-control">
                        </div>
                        <div class="form-group">
                            <label for="edit-email" class="form-label">Email*</label>
                            <input type="email" id="edit-email" name="email" class="form-control" required>
                        </div>
                        <div class="form-group">
                            <label for="edit-phone" class="form-label">Phone Number*</label>
                            <input type="tel" id="edit-phone" name="phone" class="form-control" required>
                        </div>
                    </div>
                    <div class="form-group form-group-full">
                        <label for="edit-address" class="form-label">Address*</label>
                        <input type="text" id="edit-address" name="address" class="form-control" placeholder="Street Address" required>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <input type="text" id="edit-district" name="district" class="form-control" placeholder="District" required>
                        </div>
                        <div class="form-group">
                            <input type="text" id="edit-state" name="state" class="form-control" placeholder="State" required>
                        </div>
                        <div class="form-group">
                            <input type="text" id="edit-country" name="country" class="form-control" placeholder="Country" required>
                        </div>
                        <div class="form-group">
                            <input type="text" id="edit-zip" name="zip" class="form-control" placeholder="ZIP Code" required>
                        </div>
                    </div>
                </div>

                <div class="form-section">
                    <h3>Admission Details</h3>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="edit-admission-date" class="form-label">Admission Date*</label>
                            <input type="date" id="edit-admission-date" name="admissionDate" class="form-control" required>
                        </div>
                        <div class="form-group">
                            <label for="edit-admission-fee" class="form-label">Admission Fee*</label>
                            <input type="number" id="edit-admission-fee" name="admissionFee" class="form-control" required>
                        </div>
                        <div class="form-group" id="edit-total-fees-group" style="display: none;">
                            <label for="edit-total-fees" class="form-label">Total Fees*</label>
                            <input type="number" id="edit-total-fees" name="totalFees" class="form-control" placeholder="Enter total course fees">
                        </div>
                        <div class="form-group" id="edit-payment-type-group" style="display: none;">
                            <label for="edit-payment-type" class="form-label">Payment Type*</label>
                            <select id="edit-payment-type" name="paymentType" class="form-control">
                                <option value="">Select Payment Type</option>
                                <option value="One Time">One Time</option>
                                <option value="Installment">Installment</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="edit-batch-time" class="form-label">Batch Time*</label>
                            <input type="time" id="edit-batch-time" name="batchTime" class="form-control" required>
                        </div>
                        <div class="form-group">
                            <label for="edit-status" class="form-label">Student Status*</label>
                            <select id="edit-status" name="status" class="form-control" required>
                                <option value="active">Active</option>
                                <option value="inactive">Inactive</option>
                            </select>
                        </div>
                        <div class="form-group" id="edit-fee-status-group" style="display: none;">
                            <label for="edit-fee-status" class="form-label">Fee Status*</label>
                            <select id="edit-fee-status" name="feeStatus" class="form-control">
                                <option value="Pending">Pending</option>
                                <option value="Paid">Paid</option>
                            </select>
                        </div>
                    </div>
                </div>

                <div class="modal-footer">
                    <button type="button" class="sm-btn sm-btn-outline" id="edit-cancel-btn">Cancel</button>
                    <button type="submit" class="sm-btn sm-blue">Update Student</button>
                </div>
            </form>
        </div>
    </div>
</div>

<!-- Delete Confirmation Modal -->
<div id="delete-student-modal" class="modal">
    <div class="modal-content" style="max-width: 400px;">
        <div class="modal-header">
            <h2 class="modal-title">Confirm Delete</h2>
            <button class="modal-close" id="delete-student-modal-close">&times;</button>
        </div>
        <div class="modal-body">
            <div style="text-align: center; padding: 20px;">
                <i class="fas fa-exclamation-triangle" style="font-size: 48px; color: #EF4444; margin-bottom: 16px;"></i>
                <p style="margin-bottom: 16px;">Are you sure you want to delete this student?</p>
                <p id="delete-student-name" style="font-weight: bold; color: #ffffff; margin-bottom: 16px;"></p>
                <p style="color: #9CA3AF; font-size: 14px;">This action cannot be undone.</p>
            </div>
        </div>
        <div class="modal-footer">
            <button type="button" class="sm-btn sm-btn-outline" id="delete-cancel-btn">Cancel</button>
            <button type="button" class="sm-btn sm-red" id="delete-confirm-btn">Delete Student</button>
        </div>
    </div>
</div>

<!-- Bulk Upload Modal -->
<div id="bulk-upload-modal" class="modal">
    <div class="modal-content" style="max-width: 800px;">
        <div class="modal-header">
            <h2 class="modal-title">
                <i class="fas fa-upload"></i>
                Bulk Student Upload
            </h2>
            <button class="modal-close" id="bulk-upload-modal-close">&times;</button>
        </div>
        <div class="modal-body">
            <!-- Step Indicator -->
            <div class="upload-steps">
                <div class="step active" data-step="1">
                    <div class="step-number">1</div>
                    <div class="step-title">Choose File</div>
                </div>
                <div class="step" data-step="2">
                    <div class="step-number">2</div>
                    <div class="step-title">Validate Data</div>
                </div>
                <div class="step" data-step="3">
                    <div class="step-number">3</div>
                    <div class="step-title">Import</div>
                </div>
            </div>

            <!-- Step 1: File Upload -->
            <div id="upload-step-1" class="upload-step active">
                <div class="upload-section">
                    <h3>Upload Student Data File</h3>
                    <p class="upload-description">
                        Upload an Excel (.xlsx, .xls) or CSV file containing student information. 
                        Don't have a template? <a href="#" id="download-template-link" class="upload-link">Download sample template</a>
                    </p>
                    
                    <div class="file-upload-area" id="file-upload-area">
                        <div class="upload-icon">
                            <i class="fas fa-cloud-upload-alt"></i>
                        </div>
                        <div class="upload-text">
                            <p class="upload-main-text">Drag and drop your file here</p>
                            <p class="upload-sub-text">or <span class="upload-browse-text" id="browse-files">browse files</span></p>
                        </div>
                        <input type="file" id="bulk-file-input" accept=".csv,.xlsx,.xls" style="display: none;">
                    </div>
                    
                    <div class="file-info" id="file-info" style="display: none;">
                        <div class="file-details">
                            <div class="file-icon">
                                <i class="fas fa-file-excel"></i>
                            </div>
                            <div class="file-meta">
                                <div class="file-name" id="file-name"></div>
                                <div class="file-size" id="file-size"></div>
                            </div>
                            <button class="remove-file-btn" id="remove-file-btn">
                                <i class="fas fa-times"></i>
                            </button>
                        </div>
                    </div>

                    <div class="upload-requirements">
                        <h4>File Requirements:</h4>
                        <ul>
                            <li>Supported formats: Excel (.xlsx, .xls) or CSV (.csv)</li>
                            <li>Maximum file size: 10MB</li>
                            <li>Required columns: Student Name, Email, Phone, Division, Guardian Name</li>
                            <li>See template for complete field reference</li>
                        </ul>
                    </div>
                </div>
            </div>

            <!-- Step 2: Data Validation -->
            <div id="upload-step-2" class="upload-step">
                <div class="validation-section">
                    <h3>Data Validation Results</h3>
                    <div class="validation-summary" id="validation-summary">
                        <!-- Will be populated by JavaScript -->
                    </div>
                    
                    <div class="validation-details" id="validation-details">
                        <!-- Will be populated by JavaScript -->
                    </div>
                </div>
            </div>

            <!-- Step 3: Import Progress -->
            <div id="upload-step-3" class="upload-step">
                <div class="import-section">
                    <h3>Importing Students</h3>
                    <div class="import-progress">
                        <div class="progress-info" id="progress-info">
                            <div class="progress-text">
                                <span id="progress-current">0</span> of <span id="progress-total">0</span> students processed
                            </div>
                            <div class="progress-percentage" id="progress-percentage">0%</div>
                        </div>
                        <div class="progress-bar">
                            <div class="progress-fill" id="progress-fill"></div>
                        </div>
                        <div class="progress-status" id="progress-status">
                            <span class="status-success" id="success-count">0 successful</span>
                            <span class="status-error" id="error-count">0 errors</span>
                        </div>
                    </div>
                    
                    <div class="import-results" id="import-results" style="display: none;">
                        <h4>Import Complete!</h4>
                        <div id="final-results"></div>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="modal-footer">
            <button type="button" class="sm-btn sm-btn-outline" id="bulk-upload-cancel">Cancel</button>
            <button type="button" class="sm-btn sm-btn-outline" id="bulk-upload-back" style="display: none;">Back</button>
            <button type="button" class="sm-btn sm-blue" id="bulk-upload-next">Next</button>
            <button type="button" class="sm-btn sm-blue" id="bulk-upload-import" style="display: none;">Import Students</button>
            <button type="button" class="sm-btn sm-green" id="bulk-upload-finish" style="display: none;">Finish</button>
        </div>
    </div>
</div>

<!-- Bulk Delete Password Modal -->
<div id="bulk-delete-password-modal" class="modal">
    <div class="modal-content" style="max-width: 450px;">
        <div class="modal-header">
            <h2 class="modal-title">
                <i class="fas fa-shield-alt"></i>
                Confirm Bulk Delete
            </h2>
            <button class="modal-close" id="bulk-delete-password-modal-close">&times;</button>
        </div>
        <div class="modal-body">
            <div style="text-align: center; padding: 20px;">
                <i class="fas fa-exclamation-triangle" style="font-size: 48px; color: #EF4444; margin-bottom: 16px;"></i>
                <h3 style="color: #ffffff; margin-bottom: 16px;">Security Confirmation Required</h3>
                <p style="margin-bottom: 16px; color: #D1D5DB;">
                    You are about to delete <strong id="bulk-delete-count">0</strong> student(s).
                </p>
                <p style="color: #9CA3AF; font-size: 14px; margin-bottom: 24px;">
                    This action is irreversible. Please enter the admin password to continue.
                </p>
                
                <div class="form-group" style="text-align: left;">
                    <label for="bulk-delete-password" class="form-label">Admin Password</label>
                    <input type="password" id="bulk-delete-password" class="form-control" 
                           placeholder="Enter admin password" style="margin-bottom: 16px;">
                    <div id="password-error" style="color: #EF4444; font-size: 12px; display: none;">
                        Incorrect password. Please try again.
                    </div>
                </div>
            </div>
        </div>
        <div class="modal-footer">
            <button type="button" class="sm-btn sm-btn-outline" id="bulk-delete-password-cancel">Cancel</button>
            <button type="button" class="sm-btn sm-red" id="bulk-delete-password-confirm">Delete Students</button>
        </div>
    </div>
</div>

</body>
</html>
